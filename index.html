<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Tableau de bord</title>

    <link rel="stylesheet" href="./src/styles.css" />
    <link rel="stylesheet" href="./src/print.css" media="print" />

    <script src="./src/script.js" defer type="module"></script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0"
    />
  </head>
  <body>
    <aside>
      <form>
        <label for="session-input">Session:</label>
        <select id="session-input" type="" placeholder="s6">
          <option value="s6">s6</option>
          <option value="s7">s7</option>
          <option value="s8">s8</option>
        </select>
        <label for="dashboard-date">Date de remise:</label>
        <input type="date" />
        <p id="selection-response"></p>
      </form>

      <button class="print">
        <span class="material-symbols-outlined"> print </span>
      </button>
    </aside>

    <main>
      <header>
        <hgroup>
          <h1>Tableau de bord</h1>
          <h3>Période du <b>{{dateStart}}</b> au <b>{{dateEnd}}</b></h3>
        </hgroup>

        <figure>
          <img src="./assets/logo.jpg" />
        </figure>
      </header>

      <table class="objectives">
        <thead>
          <tr>
            <th>Ordre du jour</th>
            <th>Plan technique</th>
            <th>Objectifs du sprint</th>
            <th>Objectifs de la session</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td width="{{meeting.agenda.width}}">
              <ol
                style="--columnCount: {{meeting.agenda.columnCount}}"
                t="meeting.agenda.items.[]"
                class="agenda"
              >
                <li>{{value}}</li>
              </ol>
            </td>
            <td width="{{meeting.technical.width}}">
              <ol
                style="--columnCount: {{meeting.technical.columnCount}}"
                t="meeting.technical.items.[]"
                class="agenda"
              >
                <li>{{value}}</li>
              </ol>
            </td>
            <td width="auto">{{objective}}</td>
            <td width="auto">{{[session].objective}}</td>
          </tr>
        </tbody>
      </table>

      <hr />

      <ul t="members.[]" class="members">
        <li class="member">
          <figure>
            <img src="./assets/{{img}}" />
            <figcaption>
              <p><strong>{{firstname}} {{lastname}}</strong></p>
              <p style="font-size: 80%">{{role}}</p>
              <div class="disponibilities">
                <span
                  class="material-symbols-outlined disponibility disponibility-{{disponibility.lastWeek}}"
                >
                  schedule
                </span>
                <span>|</span>
                <span
                  class="material-symbols-outlined disponibility disponibility-{{disponibility.nextWeek}}"
                  >schedule</span
                >
              </div>
            </figcaption>
          </figure>
        </li>
      </ul>

      <hr />
      <hr />

      <div style="display: grid; grid-template-columns: 1fr 1fr">
        <div style="width: 400px; height: 200px">
          <canvas id="worked-hours"></canvas>
        </div>

        <div
          style="
            width: 400px;
            height: 200px;
            position: relative;
            background-color: pink;
          "
        >
          <p
            style="
              width: 70%;
              text-align: center;
              top: 50%;
              left: 50%;
              transform: translate(-50%, -50%);
              position: absolute;
              color: white;
              font-weight: bold;
            "
          >
            Burndown chart du sprint en cours
          </p>
        </div>
      </div>

      <hr />
      <hr />

      <div
        style="display: flex; justify-content: space-evenly; padding-top: 20px"
      >
        <img
          src="./assets/horaire.png"
          style="display: block; width: 100%; object-fit: contain"
        />
        <!-- <div
          style="
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background-color: red;
            position: relative;
          "
        >
          <p
            style="
              width: 70%;
              text-align: center;
              top: 50%;
              left: 50%;
              transform: translate(-50%, -50%);
              position: absolute;
              color: white;
              font-weight: bold;
            "
          >
            Pie chart pour la répartition du travail
          </p>
        </div> -->
      </div>

      <hr />
      <hr />
      <hr />

      <div style="display: flex; justify-content: space-evenly">
        <div style="width: 60%; padding: 0 2.5%">
          <table style="display: block">
            <thead style="display: block">
              <tr style="display: flex; justify-content: space-around">
                <th>Risque</th>
                <th>Mitigation</th>
                <th>Gravité</th>
                <th>Epic ou ticket associé</th>
              </tr>
            </thead>
            <tbody style="display: block">
              <tr style="display: block">
                <td colspan="100%" style="display: block">
                  <div
                    style="
                      background-color: lime;
                      height: 200px;
                      position: relative;
                    "
                  >
                    <p
                      style="
                        width: 70%;
                        text-align: center;
                        top: 50%;
                        left: 50%;
                        transform: translate(-50%, -50%);
                        position: absolute;
                        color: white;
                        text-shadow: black 0 0 5px;
                        font-weight: bold;
                      "
                    >
                      Tableau comprenant les risques principaux qui seront
                      attaqués (ou pas) dans ce sprint
                    </p>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <div style="width: 45%; padding: 0 2.5%">
          <table style="display: block">
            <thead style="display: block">
              <tr style="display: flex; justify-content: space-around">
                <th>Date</th>
                <th>Description</th>
                <th>Montant</th>
                <th>Somme</th>
              </tr>
            </thead>
            <tbody style="display: block">
              <tr style="display: block">
                <td colspan="100%" style="display: block">
                  <div
                    style="
                      background-color: orange;
                      height: 200px;
                      position: relative;
                    "
                  >
                    <p
                      style="
                        width: 70%;
                        text-align: center;
                        top: 50%;
                        left: 50%;
                        transform: translate(-50%, -50%);
                        position: absolute;
                        color: white;
                        font-weight: bold;
                      "
                    >
                      Tableau qui montre un peu le portrait de l'argent qu'il
                      nous reste (ou pas)
                    </p>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <footer>
        <p><strong>SAMuCaptE</strong> - {{meeting.date}}</p>
      </footer>
    </main>

    <main>
      <div style="width: 95%; padding-left: 2.5%">
        <table style="display: block">
          <thead style="display: block">
            <tr style="display: flex; justify-content: space-around">
              <th>Epic</th>
              <th>Description</th>
              <th>Tickets</th>
              <th>Tickets terminés</th>
              <th>Taux de complétion</th>
            </tr>
          </thead>
          <tbody style="display: block">
            <tr style="display: block">
              <td style="display: block">
                <div
                  style="
                    background-color: gold;
                    height: 200px;
                    position: relative;
                  "
                >
                  <p
                    style="
                      width: 70%;
                      text-align: center;
                      top: 50%;
                      text-shadow: black 0 0 5px;
                      left: 50%;
                      transform: translate(-50%, -50%);
                      position: absolute;
                      color: white;
                      font-weight: bold;
                    "
                  >
                    Tableau qui fait un résumé de tous les epics (objectifs).
                    Comprend le nombre de tickets associés, la quantité terminée
                    et le taux (%) de complétion. Pourrait éventuellement être
                    merge avec un diagramme de Gantt pour avoir un meilleur
                    aperçu.
                  </p>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <hr />

      <div style="width: 95%; padding-left: 2.5%">
        <table style="display: block">
          <thead style="display: block">
            <tr style="display: flex; justify-content: space-around">
              <th>Statut</th>
              <th>Tâche</th>
              <th>Responsable(s)</th>
              <th colspan="2">Temps prévu</th>
            </tr>
          </thead>
          <tbody style="display: block">
            <tr style="display: block">
              <td style="display: block">
                <div
                  style="
                    background-color: purple;
                    height: 300px;
                    position: relative;
                  "
                >
                  <p
                    style="
                      width: 70%;
                      text-align: center;
                      top: 50%;
                      left: 50%;
                      transform: translate(-50%, -50%);
                      position: absolute;
                      color: white;
                      font-weight: bold;
                    "
                  >
                    Tableau comprenant toutes les tâches qui seront faites dans
                    le prochain sprint. Les domaines sont décrits par une
                    couleur
                  </p>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div style="width: 95%; padding-left: 2.5%">
        <div
          style="
            display: grid;
            grid-template-columns: auto 1fr;
            text-align: center;
          "
        >
          <p style="font-weight: bold">#</p>
          <p style="font-weight: bold">Problème</p>
          <p>TICK-1</p>
          <p>Problème rencontré no 1</p>
          <p>TICK-2</p>
          <p>Problème rencontré no 2</p>
          <p>TICK-3</p>
          <p>Problème rencontré no 3</p>
          <p>TICK-4</p>
          <p>Problème rencontré no 4</p>
        </div>
      </div>

      <hr />

      <div style="width: 95%; padding-left: 2.5%">
        <table style="display: block">
          <thead style="display: block">
            <tr style="display: flex; justify-content: space-around">
              <th>Tâche</th>
              <th>Responsable(s)</th>
              <th colspan="2">Heures</th>
            </tr>
            <tr style="display: flex; justify-content: flex-end">
              <th style="margin: 0 10px">prévues</th>
              <th style="margin: 0 10px">réelles</th>
            </tr>
          </thead>
          <tbody style="display: block">
            <tr style="display: block">
              <td style="display: block">
                <div
                  style="
                    background-color: blue;
                    height: 300px;
                    position: relative;
                  "
                >
                  <p
                    style="
                      width: 70%;
                      text-align: center;
                      top: 50%;
                      left: 50%;
                      transform: translate(-50%, -50%);
                      position: absolute;
                      color: white;
                      font-weight: bold;
                    "
                  >
                    Tableau comprenant toutes les tâches effectuées dans la
                    semaine. Le domaine est décrit par une couleur (la même que
                    dans le pie chart)
                    <br />
                    Potentiellement les heures pour chaque membre? Pas certain
                    que ça soit utile par contre.
                  </p>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </main>
  </body>
</html>
